
<!DOCTYPE html>
<html>
    <head>
        <title>Hng Javascript Calculator</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name=viewport content="width=device-width, initial-scale=1" />
        <meta name="description" content="Responsive JSCalculator">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" />
        <stlye>
          html, body, body * {
  margin: 0;
  padding: 0;
}

body {
  width: 100%;
  height: 100vh;
  background: #556270;  
  background: -webkit-linear-gradient(to right, #FF6B6B, #556270); 
  background: linear-gradient(to right, #FF6B6B, #556270); 
}

#calculator {
  width: 100%;
  height: 100%;
    
  display: grid;
  grid-template-columns: 1fr 1fr 1fr 1fr;
  grid-template-rows: 1fr 1fr 1fr 1fr 1fr 1fr 1fr;
  grid-template-areas:
  "screen1 screen1 screen1 screen1"
  "screen2 screen2 screen2 screen2"
  "row11 row12 row13 row14"
  "row24 row22 row21 row23"
  "row34 row31 row32 row33"
  "row44 row41 row42 row43"
  "row54 row51 row52 row53";

  background-color: #222;
  opacity: 0.8;
    
  margin: 0 auto;
}

button {
  background-color: #000;
  opacity: 0.8;
  border: none;
  font-family: 'Open Sans', sans-serif;
  color: #FF6B6B;
  font-size: 3.5em;
}
button:focus { outline: none; }
button:hover { color: #BA4E4E; }


.operator {
  color: #C6E2E9;
}
.operator:hover {
  color: #536678;
}

#top-panel {
  grid-area: screen1;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
}

#info-panel {
  grid-area: screen1;

  z-index: 2;
  background-color: white;
  width: 100%;
  height: 100%;
  opacity: 0;
  display: flex;
  justify-content: center;
  align-items: center;
}
#info-panel p {
  font-family: 'Open Sans', sans-serif;
  color: #FF6B6B;
}
#info-panel p a {
  color: #FF6B6B;
  text-decoration: none;
}
#info-panel p a:hover { text-decoration: underline }
#info-panel p a:active { text-decoration: underline }

#special-link{
  pointer-events: none;
  cursor: default;
}

#info-mark {
  padding: 0 5%;
  width: 2.5em;
  height: 2.5em;
  z-index: 3;
  fill: #CBC0D3;
}

#screen1 {
  width: 84%;
  font-family: 'Open Sans', sans-serif;
  color: #CBC0D3;
  font-size: 1.8em;
  text-align: right;
  
  padding: 0 8% 0 0;
  margin: auto auto;
}
#screen2 {
  grid-area: screen2;
  
  width: 84%;
  font-family: 'Open Sans', sans-serif;
  color: #CBC0D3;
  font-size: 2em;
  text-align: right;
  
  padding: 0 8%;
  margin: auto auto;
}

#num1 {
  grid-area: row41;
}
#num2 {
  grid-area: row42;
}
#num3 {
  grid-area: row43;
}
#num4 {
  grid-area: row31;
}
#num5 {
  grid-area: row32;
}
#num6 {
  grid-area: row33;
}
#num7 {
  grid-area: row22;
}
#num8 {
  grid-area: row21;
}
#num9 {
  grid-area: row23;
}
#num0 {
  grid-area: row51;
}
#numDec {
  grid-area: row52;
}
#numEql {
  grid-area: row53;
}
#numDiv {
  grid-area: row24;
}
#numMult {
  grid-area: row34;
}
#numMinus {
  grid-area: row44;
}
#numPlus {
  grid-area: row54;
}
#leftParth {
  grid-area: row11;
}
#rightParth {
  grid-area: row12;
}
#clearAll {
  grid-area: row13;
}
#delete {
  grid-area: row14;
}

      /* Custom, iPhone Retina */ 
@media only screen and (min-device-width : 320px) {
  #calculator {
    max-width: 100%;
    margin: 0 auto;
  }

  #screen1 {
    font-size: 1em;
  }
  #screen2{
    font-size: 1.4em;
  }
  button {
    font-size: 2.1em;
  }
  button:active {
    color: #BA4E4E;
    font-size: 2.3em;
  }
  #info-panel p {
    font-size: 0.5em;
  }
}

      /* Extra Small Devices, Phones */ 
@media only screen and (min-device-width : 480px) {
  #calculator {
    max-width: 90%;
    margin: 0 auto;
  }
  #screen1 {
    font-size: 1.3em;
  }
  #screen2{
    font-size: 1.7em;
  }
  button {
    font-size: 2.5em;
  }
  button:active {
    color: #BA4E4E;
    font-size: 2.7em;
  }
  #info-panel p {
    font-size: 0.85em;
  }
}

    /* Small Devices, Tablets */
@media only screen and (min-device-width : 768px) {
  #calculator {
    max-width: 90%;
    margin: 0 auto;
  }
  #screen1 {
    font-size: 1.5em;
  }
  #screen2{
    font-size: 1.9em;
  }
  button {
    font-size: 2.5em;
  }
  button:active {
    color: #BA4E4E;
    font-size: 2.7em;
  }
  #info-panel p {
    font-size: 1.1em;
  }
}

    /* Medium Devices, Desktops */
@media only screen and (min-width : 992px) {
  #calculator {
    max-width: 60%;
    margin: 0 auto;
    }
  #screen1 {
    font-size: 1.7em;
    }
  #screen2{
    font-size: 2em;
  }
  button {
    font-size: 3.2em;
  }
  button:active {
    color: #BA4E4E;
    font-size: 3.5em;
  }
  #info-panel p {
    font-size: 1.2em;
  }
}

@media only screen and (orientation: landscape) and (max-device-width: 800px) {
    #calculator {
      grid-template-columns: 1fr 1fr 1fr 1fr 1fr;
      grid-template-rows: 1fr 1fr 1fr 1fr 1fr 1fr;
      grid-template-areas:
      "screen1 screen1 screen1 screen1 screen1"
      "screen2 screen2 screen2 screen2 screen2"
      "row11 row12 row22 row21 row23"
      "row14 row13 row31 row32 row33"
      "row24 row34 row41 row42 row43"
      "row44 row54 row51 row52 row53" ;
  }
}
        </style>
    </head>
    <body>
        <div id="calculator">
            <div id="top-panel">
                    <svg id="info-mark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 0C114.497 0 0 114.507 0 256c0 141.503 114.507 256 256 256 141.503 0 256-114.507 256-256C512 114.497 397.492 0 256 0zm0 472c-119.393 0-216-96.615-216-216 0-119.393 96.615-216 216-216 119.393 0 216 96.615 216 216 0 119.393-96.616 216-216 216z"/><path d="M266 128.878h-70c-11.046 0-20 8.954-20 20s8.954 20 20 20h70c16.542 0 30 13.458 30 30s-13.458 30-30 30h-20c-11.046 0-20 8.954-20 20v28.792c0 11.046 8.954 20 20 20s20-8.954 20-20v-8.792c38.598 0 70-31.402 70-70s-31.402-70-70-70z"/><circle cx="246" cy="349.16" r="27"/></svg>
                    <p id="screen1"></p>
            </div>
            <p id="screen2"></p>
                <button class="digit" id="num1">1</button>
                <button class="digit" id="num2">2</button>
                <button class="digit" id="num3">3</button>
                <button class="digit" id="num4">4</button>
                <button class="digit" id="num5">5</button>
                <button class="digit" id="num6">6</button>
                <button class="digit" id="num7">7</button>
                <button class="digit" id="num8">8</button>
                <button class="digit" id="num9">9</button>
                <button class="digit" id="num0">0</button>

                <button class="operator" id="numDec">.</button>

                <button class="operator" id="numEql">=</button>

                <button class="operator arithmetic" id="numDiv">/</button>
                <button class="operator arithmetic" id="numMult">*</button>
                <button class="operator arithmetic" id="numMinus">-</button>
                <button class="operator arithmetic" id="numPlus">+</button>
            
                <button class="special" id="leftParth">(</button>
                <button class="special" id="rightParth">)</button>

                <button id="clearAll">CA</button>
                <button id="delete">DEL</button>
        </div>
    </body>
    <script>
      const screen1 = document.querySelector('#screen1');
const screen2 = document.querySelector('#screen2');
const elementList = document.querySelectorAll('.digit');
const operatorList = document.querySelectorAll('.arithmetic');
const equalButton = document.querySelector('#numEql');
const clearAllButton = document.querySelector('#clearAll');
const parentheses = document.querySelectorAll('.special');
const deleteButton = document.querySelector('#delete');
const infoButton = document.querySelector('#info-mark');
const infoPanel = document.querySelector('#info-panel');
const specialLink = document.querySelector('#special-link')

let operatorBoolean = false;

operatorList.forEach((e) => {
  e.addEventListener('click', (event) => {
    if (screen1.innerHTML.length >= 25) {
      screen1.innerHTML += '';
    } else if (screen1.innerHTML.length === 0) {
      if (e.id === 'numMinus'){
        screen1.innerHTML += '-';
      }
    } else {
      if (operatorBoolean) {
        screen1.innerHTML += event.target.innerHTML;
        operatorBoolean = !operatorBoolean;
      } else {
        screen1.innerHTML += '';
      }
    }
  })
})

parentheses.forEach((e) => {
  e.addEventListener('click', (event) => {
    if (screen1.innerHTML.length >= 25) {
      screen1.innerHTML += '';
    } else {
      screen1.innerHTML += event.target.innerHTML;
    }
  })
})

elementList.forEach((e) => {
  e.addEventListener('click', (event) => {
      if (screen1.innerHTML.length >= 25) {
        screen1.innerHTML += '';
      } else {
        screen1.innerHTML += event.target.innerHTML;
        if (!operatorBoolean) {operatorBoolean = !operatorBoolean;}
      }
  })
})


deleteButton.addEventListener('click', (event) => {
  if (screen1.innerHTML.charAt(screen1.innerHTML.length - 1) !== '/' ||
      screen1.innerHTML.charAt(screen1.innerHTML.length - 1) !== '*' ||
      screen1.innerHTML.charAt(screen1.innerHTML.length - 1) !== '-' ||
      screen1.innerHTML.charAt(screen1.innerHTML.length - 1) !== '+' ||
      screen1.innerHTML.charAt(screen1.innerHTML.length - 1) !== '.' && 
      screen1.innerHTML.charAt(screen1.innerHTML.length - 2) === '/' ||
      screen1.innerHTML.charAt(screen1.innerHTML.length - 2) === '*' ||
      screen1.innerHTML.charAt(screen1.innerHTML.length - 2) === '-' ||
      screen1.innerHTML.charAt(screen1.innerHTML.length - 2) === '+' ||
      screen1.innerHTML.charAt(screen1.innerHTML.length - 2) === '.' ) {
        screen1.innerHTML = screen1.innerHTML.slice(0, -1);
        operatorBoolean = false;
      } else if (screen1.innerHTML.charAt(screen1.innerHTML.length - 1) === '/' ||
                  screen1.innerHTML.charAt(screen1.innerHTML.length - 1) === '*' ||
                  screen1.innerHTML.charAt(screen1.innerHTML.length - 1) === '-' ||
                  screen1.innerHTML.charAt(screen1.innerHTML.length - 1) === '+' ||
                  screen1.innerHTML.charAt(screen1.innerHTML.length - 1) === '.' && 
                  screen1.innerHTML.charAt(screen1.innerHTML.length - 2) !== '/' ||
                  screen1.innerHTML.charAt(screen1.innerHTML.length - 2) !== '*' ||
                  screen1.innerHTML.charAt(screen1.innerHTML.length - 2) !== '-' ||
                  screen1.innerHTML.charAt(screen1.innerHTML.length - 2) !== '+' ||
                  screen1.innerHTML.charAt(screen1.innerHTML.length - 2) !== '.' ) {
                    screen1.innerHTML = screen1.innerHTML.slice(0, -1);
                    operatorBoolean = true;
                } else {
                  screen1.innerHTML = screen1.innerHTML.slice(0, -1);
                }
})

screen1.addEventListener('click', (event) => {
  screen1.innerHTML = '';
  operatorBoolean = !operatorBoolean;
})


equalButton.addEventListener('click', (event) => {
  if (eval(screen1.innerHTML) === undefined) {
    screen2.innerHTML = 'INPUT ERROR';
  } else {
    screen2.innerHTML = eval(screen1.innerHTML);
  }
})

clearAllButton.addEventListener('click', (event) => {
  screen1.innerHTML = '';
  screen2.innerHTML = '';
  operatorBoolean = false;
})

const infoButtonAnimation = [
  { fill: '#CBC0D3' },
  { fill: '#FF6B6B' }   
];
const infoButtonAnimationReverse = [
  { fill: '#FF6B6B' },
  { fill: '#CBC0D3' }   
];

const infoPanelAnimation = [
  { opacity: '0' },
  { opacity: '1' }   
];
const infoPanelAnimationReverse = [
  { opacity: '1' },
  { opacity: '0' }   
];

let visibility = false;
infoButton.addEventListener('click', (event) => {
    
    if (!visibility){
      infoButton.animate(infoButtonAnimation, { fill: 'forwards', easing: 'steps(4, end)', duration: 500 })
      infoPanel.animate(infoPanelAnimation, { fill: 'forwards', easing: 'steps(4, end)', duration: 500 })
      specialLink.style.pointerEvents = 'auto';
      visibility = !visibility;
    } else if (visibility) {
      infoButton.animate(infoButtonAnimationReverse, { fill: 'forwards', easing: 'steps(4, end)', duration: 500 })
      infoPanel.animate(infoPanelAnimationReverse, { fill: 'forwards', easing: 'steps(4, end)', duration: 500 })
      specialLink.style.pointerEvents = 'none';
      visibility = !visibility;
    }
})
    </script>
</html>

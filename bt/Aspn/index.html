<!DOCTYPE html>
<html>
<head>
<script>
/* I call this my "Analigital" clock.
 * Creating script 1.
 * this script will mainly be used as an appeal
 * It also shows the date. 
 */

function padZero(number) {
  return number < 10 ? "0" + number : number;
}

function updateClock(current, tmax, idPrefix) {
  if (current === 0) {
    for (var i = 0; i <= tmax; i++) {
      var tick = document.getElementById(idPrefix + padZero(i));
      tick.classList.remove('tick');
    }
  }  
  var tick = document.getElementById(idPrefix + padZero(current));
  tick.classList.add('tick');
}

function updateDate(today) { /* This is where it gets interesting
                              * this function returns the day of the week
                              */
  var weekDay = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
  var dateTemp = weekDay[today.getDay()] + '<br>' + 
  today.getFullYear() + '-' + padZero(today.getMonth()+1) + '-' + padZero(today.getDate());
  var dack = document.getElementById('todayDate');
  dack.innerHTML = dateTemp;
}

function startClock() {
  var today = new Date();
  var h = today.getHours();
  var m = today.getMinutes();
  var s = today.getSeconds();

  updateClock(s, 59, "s");
  if (s === 0) {
    updateClock(m, 59, "m");
    if (m === 0) {
      updateClock(h, 23, "h");
      if (h === 0) {
        updateDate(today);
      }
    }
  }
}

function initClock() {
  var today = new Date();
  var h = today.getHours();
  var m = today.getMinutes();
  var s = today.getSeconds();
  var i = 0;
  var secondsEl = document.getElementById("seconds");
  var minutesEl = document.getElementById("minutes");
  var hoursEl = document.getElementById("hours");

  updateDate(today);

  /*This is where i died*/

  for (i = 0; i <= 59; i++) { 
    var tock = document.createElement("span");
    tock.id = "s" + padZero(i);
    tock.style.webkitTransform = "rotate(" + i*6 + "deg)";
    tock.style.MozTransform = "rotate(" + i*6 + "deg)";
    tock.style.msTransform = "rotate(" + i*6 + "deg)";
    if (i <= s) {
      tock.classList.add("tick");
    }
    secondsEl.insertBefore(tock, null);
  }
  for (i = 0; i <= 59; i++) {
    var tock = document.createElement("span");
    tock.id = "m" + padZero(i);
    tock.style.webkitTransform = "rotate(" + i*6 + "deg)";
    tock.style.MozTransform = "rotate(" + i*6 + "deg)";
    tock.style.msTransform = "rotate(" + i*6 + "deg)";
    if (i <= m) {
      tock.classList.add("tick");
    }
    minutesEl.insertBefore(tock, null);    
  }      
  for (i = 0; i <= 23; i++) {
    var tock = document.createElement("span");
    tock.id = "h"+ padZero(i);
    tock.style.webkitTransform = "rotate(" + i*15 + "deg)";
    tock.style.MozTransform = "rotate(" + i*15 + "deg)";
    tock.style.msTransform = "rotate(" + i*15 + "deg)";
    if (i <= h) {
      tock.classList.add("tick");
    }
    hoursEl.insertBefore(tock, null);
  }      

  setInterval(startClock, 100);
}  

window.onload = initClock;


/* 
 * This function displays the Digital time
 * The time will be placed under the "analigital" clock
 * 
 */
function clock(){

var today = new Date();

var hours = today.getHours();
var minutes = today.getMinutes();
var seconds = today.getSeconds();

if (hours >= 12){
  meridiem = " PM";
}
else {
  meridiem = " AM";
}


if (hours>12){
    hours = hours - 12;
}
else if (hours===0){
    hours = 12; 
}

if (minutes<10){
    minutes = "0" + minutes;
}
else {
    minutes = minutes;
}

if (seconds<10){
    seconds = "0" + seconds;
}
else {
    seconds = seconds;
}


document.getElementById("clock").innerHTML = (hours + ":" + minutes + ":" + seconds + meridiem);

}

/* In order to make the code more fancy, i will include a greeting message according to the time of the day
 * This will depend on what xylz says about this
 * if approved
 *
 *
 */



setInterval('clock()', 1);


</script>


<style>
header, footer {
    padding: 1em;
    color: green;
    background-color: white;
    clear: left;
    text-align: center;
}
body {
 background: #333;
  color: white;
}

#clock {
   text-align: center;
   margin-top: 10%;
   font-size: 90px;
   font-family: Baskerville, Georgia;
}


@import url(https://fonts.googleapis.com/css?family=Source+Code+Pro);


* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
html {
  font-family: 'Source Code Pro', Consolas, monospace;
  font-size: 62.5%;
}/*
body {
  background: hsl(210, 15%, 15%);
  margin-top: 20px;
}*/
.tclock {
  position: relative;
  width: 30rem;
  height: 30rem;
  margin: 0 auto;
}
#hours, #minutes, #seconds {
  position: absolute;
  top: 0; left: 0; bottom: 0; right: 0;
  /* background-color: hsla(20, 75%, 25%, 0.025); */
  /* border-radius: 50%; */
}
#seconds {
  transform: scale(1.0);
}
#minutes {
  transform: scale(0.85);
}
#hours {
  transform: scale(0.70);
}
.date {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%,-50%);
  font-size: 2rem;
  text-align: center;
  color: hsla(80, 100%, 25%, 0.85);
  width: 50%;
}
span {
  position: absolute;
  width: 2%;
  height: 5%;
  top: 0; left: 50%;
  background-color: hsla(80, 100%, 25%, 0.15);
  border: 1px solid hsla(0, 0%, 100%, 0.05);
  transform-origin: 0% 1000%;
  transition: all linear 0.5s;
}
.tick {
  background-color: hsla(80, 100%, 25%, 0.85);
}
.effects{
    position: left;
    height:100px;
    width:100px;

}

p{
  color: white; 
  font-family: "Courier";
  font-size: 20px;
  margin: 10px 0 0 10px;
  white-space: nowrap;
  overflow: hidden;
  width: 30em;
  animation: type 4s steps(60, end); 
}

p:nth-child(2){
  animation: type2 8s steps(60, end);
}

@keyframes type{ 
  from { width: 0; } 
} 

@keyframes type2{
  0%{width: 0;}
  50%{width: 0;}
  100%{ width: 100; } 
} 
</style>
</head>
<title>Op. Task Dance</title>
<body>
<header>
   <h1>A &quot;Simple&quot; Digital Time with Date</h1>
</header>

<br><br>
<div class="tclock">
  <div id="seconds"></div>
  <div id="minutes"></div>
  <div id="hours"></div>
  <div id="todayDate" class="date"></div>
</div>

<div id = "effects">
<!-- A typewritter effect -->
<p>Time is an Illusion ---Albert Einstein <br>
</div>
<div id="clock">
  
</div>
<footer><b>---&copy;Aspn<b></footer>
<!-- end -->

</body>
</html>